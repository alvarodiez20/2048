<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport"
    content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />
  <meta name="description"
    content="Play 2048 - A sliding puzzle game built with Rust and WebAssembly. Play on mobile with touch gestures!" />
  <meta name="theme-color" content="#0f0f1a" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <meta name="apple-mobile-web-app-title" content="2048" />
  <title>2048 - Rust + WASM</title>
  <link rel="stylesheet" href="/src/style.css" />
</head>

<body>
  <div id="app">
    <header>
      <h1>2048</h1>
      <p class="subtitle">Rust + WebAssembly Edition</p>
    </header>

    <div class="game-header">
      <div class="score-container">
        <div class="score-label">SCORE</div>
        <div id="score" class="score-value">0</div>
      </div>
      <button id="new-game" class="btn">New Game</button>
    </div>

    <div class="seed-container">
      <label for="seed-input">Seed:</label>
      <input type="number" id="seed-input" value="42" min="0" />
    </div>

    <div class="game-container">
      <canvas id="game-canvas" width="400" height="400"></canvas>
      <div id="game-over" class="game-over hidden">
        <div class="game-over-content">
          <h2>Game Over!</h2>
          <p>Final Score: <span id="final-score">0</span></p>
          <p>Max Tile: <span id="max-tile">0</span></p>
          <button id="restart" class="btn">Play Again</button>
        </div>
      </div>
    </div>

    <div class="controls">
      <p>
        <span class="desktop-controls">Use <kbd>‚Üë</kbd> <kbd>‚Üì</kbd> <kbd>‚Üê</kbd> <kbd>‚Üí</kbd> or <kbd>W</kbd>
          <kbd>A</kbd> <kbd>S</kbd> <kbd>D</kbd> to move</span>
        <span class="mobile-controls">Swipe to play!</span>
      </p>
    </div>

    <div class="ai-section">
      <h3>ü§ñ AI Player</h3>
      <div class="ai-model-select">
        <label for="model-select">Model:</label>
        <select id="model-select">
          <option value="random">Random (baseline)</option>
        </select>
      </div>
      <div class="ai-controls">
        <button id="watch-ai" class="btn btn-ai" disabled>
          <span class="btn-icon">‚ñ∂</span> Watch AI
        </button>
        <button id="stop-ai" class="btn btn-ai hidden">
          <span class="btn-icon">‚èπ</span> Stop
        </button>
        <button id="ai-hint" class="btn btn-ai" disabled>
          <span class="btn-icon">üí°</span> Hint
        </button>
      </div>
      <div class="ai-speed">
        <label for="ai-speed-slider">Speed:</label>
        <input type="range" id="ai-speed-slider" min="1" max="20" value="5" />
        <span id="speed-value">5</span> moves/sec
      </div>
      <div id="ai-status" class="ai-status">
        <span class="status-dot"></span>
        <span id="ai-status-text">Loading AI model...</span>
      </div>
      <div id="ai-hint-display" class="ai-hint hidden">
        Best move: <span id="hint-action">-</span>
      </div>
    </div>

    <footer>
      <p>Built with <a href="https://www.rust-lang.org/" target="_blank">Rust</a> + <a href="https://webassembly.org/"
          target="_blank">WebAssembly</a></p>
    </footer>
  </div>

  <script type="module" src="/src/main.ts"></script>
</body>

</html>